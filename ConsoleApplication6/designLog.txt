2016.10.24
1、频率计算时，先读取速度值，手动模式下读取上位机设置的速度值，自动模式下读取计划表中的数值；
2、频率计算时，手动模式下的上位机设置速度下发是应包含方向（正负），方向应为当前计划表的设置方向；
3、SENDDATA为上传数据的代码宏定义；
4、SENDSTATA为上传状态参数的代码宏定义；
5、GETCMD为接受命令的代码宏定义；
6、正式试验时，在没有触发试验中止(iTestCase不等于7)且命令计数iCMDCount增大时，读上位机指令
7、进入初始化时，发送状态，初始化结束后，自动进入时间预览（case2）
8、进入时间预览时，发送状态，时间预览循环等待命令
9、reason=0 上位机中止
   reason=1 噪声失败
   reason=2 闭环失败
   reason=3 闭环成功
   reason=4 传函识别结束
   reason=5 通道单独限制触发
   reason=6 abort触发
   reason=7 通道开环
   reason=8 试验正常结束

2016.10.25
1、case7内驱动降至安全值后，进行停止原因判断；
2、闭环检查结束、自动模式下且不进行传函检查时，应在case7自动跳转至case6；
3、闭环检查结束且进行传函检查时，应在case7自动跳转至case5；
4、传函检查结束且自动模式下，应在case7自动跳转至case6；
5、所有其他原因进入case7，应在case7等待，上位机命令；
2016.10.28
1、上位机根据当前的上传状态，判断操作的具体意图，决定生成的指令参数；
2、在下位机，状态应先于数据发送，便于数据的识别；
3、手动模式下，下发的扫描速度为速度的绝对值，下位机自动判断方向，添加正负号；
2016.10.31
1、iRunMode=0 自动模式
   iRunMode=1 手动模式
   iRunMode=2 计划表模式
2、iRunMode=0、1时，读给定速度和计划表量级（预设为1），通过量级通过量级的系数iTestLevel改变量级
3、iRunMode<=1时，读计划表速度和量级
2016.11.02
1、量级为参考谱的倍数系数，由iTestLevel乘以下位机计划表量级fpReferGainGoal[iScheduleAdd]得出
2、量级变化时，由上位机下发指令，更改iTestLevel实现；
2、iTestLevel在上位机的设置和显示时以dB为单位，下发前通过计算转化为实际倍数；
3、iTestLevel相当于计划表量级基础上的一个倍数系数，iTestLevel乘以下位机计划表量级fpReferGainGoal[iScheduleAdd]，得出下位机的参考谱实际增益目标fLevelGoal；
4、下位机实现量级变化时，判断当前参考谱增益（量级）fReferGain与实际增益目标fLevelGoal的差别，自动判断升降量级的方向，更改量级变化的速度，需要上升时为上升速度，
   需要下降时为下降速度，到达目标时速度为0；
5、量级变化的速度，分上升和下降速度，由上位机在参数设置阶段提前设置，并初始化阶段自动转化为斜率和零偏参数；
6、量级变化速度由公式：变化倍数=斜率*变化时间+零偏，近似实现，该近似公式在变化时间在0s~0.5s内具有较高精确度；
7、计算的变化倍数乘以当前参考谱增益得到临时参考谱增益，临时增益与目标对比，未达到目标，新增益生效，到达目标后（上升时大于目标，下降时小于目标，到达时等于目标），强制设置当前参考谱增益等于目标；
8、参考谱实际增益目标fLevelGoal达到后，参考谱增益在7内始终强制等于目标，直到目标更改；
9、自动模式、手动模式和计划表下，iTestLevel均可被更改，自动模式和计划表模式更改，需要上位机激活手动操作

2016.12.14
1、完整的计划表逻辑实现，含计划循环
2、单个扫频计划表，可以包含多次扫频